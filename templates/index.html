<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>FuelPass Estimator</title>
  <style>
    body{font-family:sans-serif;max-width:800px;margin:40px auto;padding:0 20px}
    h1{color:#0b74de;text-align:center}
    label{display:block;margin:12px 0}
    input, select{padding:8px;width:200px;margin-top:4px}
    button{background:#0b74de;color:white;border:0;padding:10px 20px;margin-top:20px}
    #result{margin-top:30px;padding:15px;background:#f0f8ff;border-radius:8px}
  </style>
</head>
<body>
  <h1>FuelPass Estimator</h1>
  <label>Distance (km): <input id="distance" type="number" value="100"></label>
  <label>Fuel Price (ZAR/L): <input id="price" type="number" step="0.01" value="26.50"></label>
  <button onclick="estimate()">Estimate</button>
  <div id="result"></div>

<script>
async function estimate(){
  const dist = parseFloat(document.getElementById('distance').value);
  const price = parseFloat(document.getElementById('price').value);
  const res = await fetch('/estimate', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      distance_km: dist,
      fuel_price: price,
      body_type: "sedan",
      route: "mixed",
      driving_style: "normal"
    })
  });
  const data = await res.json();
  document.getElementById('result').innerHTML = `
    <h3>Estimate</h3>
    <p><strong>Deposit:</strong> R${data.estimated_cost_zar}</p>
    <p><strong>Fuel needed:</strong> ${data.best_liters} L</p>
    <p>${data.notes}</p>
  `;
}
</script>
</body>
</html>
